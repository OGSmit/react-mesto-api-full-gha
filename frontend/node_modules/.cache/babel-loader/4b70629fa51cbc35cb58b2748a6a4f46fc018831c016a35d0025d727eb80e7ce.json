{"ast":null,"code":"import _classCallCheck from\"C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var configForApi={url:'api.ogsmit.nomoredomains.monster',headers:{'authorization':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDZlMWQwNTM2Y2UwYzAwMWE0MTdmODYiLCJpYXQiOjE2ODQ5MzgwMTN9.u9SjO-asPl3C4HZ6OC6WwHSNjpd1jXZLWIDwQ4yCgEQ','Content-Type':'application/json'}};var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this.url=config.url;this.headers=config.headers;}_createClass(Api,[{key:\"getInitialCard\",value:function getInitialCard(){return fetch(\"\".concat(this.url,\"/cards\"),{headers:this.headers}).then(this._checkResponse);}},{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this.url,\"/users/me\"),{headers:this.headers}).then(this._checkResponse);}},{key:\"removeCard\",value:function removeCard(cardId){return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId),{method:'DELETE',headers:this.headers}).then(this._checkResponse);}},{key:\"addCard\",value:function addCard(objectFromInputs){return fetch(\"\".concat(this.url,\"/cards\"),{method:'POST',headers:this.headers,body:JSON.stringify({name:objectFromInputs.name,link:objectFromInputs.link})}).then(this._checkResponse);}},{key:\"editAvatar\",value:function editAvatar(objectFromInputs){return fetch(\"\".concat(this.url,\"/users/me/avatar\"),{method:'PATCH',headers:this.headers,body:JSON.stringify({avatar:objectFromInputs.avatar})}).then(this._checkResponse);}},{key:\"editProfile\",value:function editProfile(objectFromInputs){return fetch(\"\".concat(this.url,\"/users/me\"),{method:'PATCH',headers:this.headers,body:JSON.stringify({name:objectFromInputs.name,about:objectFromInputs.about})}).then(this._checkResponse);}},{key:\"addlikeCard\",value:function addlikeCard(cardId){return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this.headers}).then(this._checkResponse);}},{key:\"removelikeCard\",value:function removelikeCard(cardId){return fetch(\"\".concat(this.url,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this.headers}).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}]);return Api;}();var api=new Api(configForApi);export default api;","map":{"version":3,"names":["configForApi","url","headers","Api","config","_classCallCheck","_createClass","key","value","getInitialCard","fetch","concat","then","_checkResponse","getProfile","removeCard","cardId","method","addCard","objectFromInputs","body","JSON","stringify","name","link","editAvatar","avatar","editProfile","about","addlikeCard","removelikeCard","res","ok","json","Promise","reject","status","api"],"sources":["C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["const configForApi = {\r\n  url: 'api.ogsmit.nomoredomains.monster',\r\n  headers: {\r\n    'authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDZlMWQwNTM2Y2UwYzAwMWE0MTdmODYiLCJpYXQiOjE2ODQ5MzgwMTN9.u9SjO-asPl3C4HZ6OC6WwHSNjpd1jXZLWIDwQ4yCgEQ',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nclass Api {\r\n  constructor(config) {\r\n    this.url = config.url;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  getInitialCard() {\r\n    return fetch(`${this.url}/cards`, {\r\n      headers: this.headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  getProfile() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      headers: this.headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  addCard(objectFromInputs) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: objectFromInputs.name,\r\n        link: objectFromInputs.link \r\n      })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  editAvatar(objectFromInputs) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: objectFromInputs.avatar\r\n      })\r\n    }).then(this._checkResponse)\r\n  };\r\n\r\n  editProfile(objectFromInputs) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: objectFromInputs.name,\r\n        about: objectFromInputs.about\r\n      })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  addlikeCard(cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: this.headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  removelikeCard(cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this.headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n}\r\n\r\nconst api = new Api(configForApi);\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}