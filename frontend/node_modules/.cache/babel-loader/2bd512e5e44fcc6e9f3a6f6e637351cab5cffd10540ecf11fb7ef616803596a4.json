{"ast":null,"code":"import _slicedToArray from\"C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),link=_useState4[0],setLink=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),nameValidationMessage=_useState6[0],setNameValidationMessage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),linkValidationMessage=_useState8[0],setLinkValidationMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isNameValid=_useState10[0],setIsNameValid=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),isLinkValid=_useState12[0],setIsLinkValid=_useState12[1];function handleSubmit(e){e.preventDefault();props.onAddPlace({name:name,link:link});}function handleChangeName(e){setName(e.target.value);setNameValidationMessage(e.target.validationMessage);setIsNameValid(e.target.validity.valid);}function handleChangeLink(e){setLink(e.target.value);setLinkValidationMessage(e.target.validationMessage);setIsLinkValid(e.target.validity.valid);}useEffect(function(){setName('');setLink('');setIsLinkValid(false);setIsNameValid(true);setLinkValidationMessage('');setNameValidationMessage('');},[props.isOpened]);return/*#__PURE__*/_jsxs(PopupWithForm,{onSubmit:handleSubmit,isValid:isNameValid&&isLinkValid,buttonText:props.isOpened&&props.isApiProcessing?'Добавляю...':'Добавить',isOpened:props.isOpened,onClose:props.onClose,name:\"popup_add-card\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",children:[/*#__PURE__*/_jsx(\"input\",{value:name||'',onChange:handleChangeName,type:\"text\",id:\"place\",className:\"popup__inputs popup__inputs_type_name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",name:\"name\",minLength:2,maxLength:40,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:nameValidationMessage.length<1?\"place-error popup__input-error\":\"place-error popup__input-error popup__input-error_visible\",children:nameValidationMessage}),/*#__PURE__*/_jsx(\"input\",{value:link||'',onChange:handleChangeLink,type:\"url\",id:\"place-link\",className:\"popup__inputs popup__inputs_type_hobby\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",name:\"link\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:linkValidationMessage.length<1?\"place-link-error popup__input-error\":\"place-link-error popup__input-error popup__input-error_visible\",children:linkValidationMessage})]});}export default AddPlacePopup;","map":{"version":3,"names":["useState","useEffect","PopupWithForm","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","props","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","link","setLink","_useState5","_useState6","nameValidationMessage","setNameValidationMessage","_useState7","_useState8","linkValidationMessage","setLinkValidationMessage","_useState9","_useState10","isNameValid","setIsNameValid","_useState11","_useState12","isLinkValid","setIsLinkValid","handleSubmit","e","preventDefault","onAddPlace","handleChangeName","target","value","validationMessage","validity","valid","handleChangeLink","isOpened","onSubmit","isValid","buttonText","isApiProcessing","onClose","title","children","onChange","type","id","className","placeholder","minLength","maxLength","required","length"],"sources":["C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/src/component/AddPlacePopup.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [linkValidationMessage, setLinkValidationMessage] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(false);\r\n  const [isLinkValid, setIsLinkValid] = useState(true);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    })\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n    setNameValidationMessage(e.target.validationMessage);\r\n    setIsNameValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value)\r\n    setLinkValidationMessage(e.target.validationMessage);\r\n    setIsLinkValid(e.target.validity.valid);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n    setIsLinkValid(false);\r\n    setIsNameValid(true);\r\n    setLinkValidationMessage('');\r\n    setNameValidationMessage('');\r\n  }, [props.isOpened])\r\n\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit}\r\n      isValid={isNameValid && isLinkValid}\r\n      buttonText={props.isOpened && props.isApiProcessing ? 'Добавляю...' : 'Добавить'}\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      name=\"popup_add-card\"\r\n      title=\"Новое место\">\r\n      <input\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n        type=\"text\"\r\n        id=\"place\"\r\n        className=\"popup__inputs popup__inputs_type_name\"\r\n        placeholder=\"Название\"\r\n        name=\"name\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required=\"\"\r\n      />\r\n      <span className={nameValidationMessage.length < 1 ?\r\n        \"place-error popup__input-error\" : \"place-error popup__input-error popup__input-error_visible\"} >{nameValidationMessage}</span>\r\n      <input\r\n        value={link || ''}\r\n        onChange={handleChangeLink}\r\n        type=\"url\"\r\n        id=\"place-link\"\r\n        className=\"popup__inputs popup__inputs_type_hobby\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"link\"\r\n        required=\"\"\r\n      />\r\n      <span className={linkValidationMessage.length < 1 ?\r\n        \"place-link-error popup__input-error\" : \"place-link-error popup__input-error popup__input-error_visible\"} >{linkValidationMessage}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}