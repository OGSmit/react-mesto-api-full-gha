{"ast":null,"code":"import _slicedToArray from\"C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useContext}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),nameValidationMessage=_useState6[0],setNameValidationMessage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),descriptionValidationMessage=_useState8[0],setDescriptionValidationMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isNameValid=_useState10[0],setIsNameValid=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),isDescriptionValid=_useState12[0],setIsDescriptionValid=_useState12[1];function handleChangeName(e){setName(e.target.value);setNameValidationMessage(e.target.validationMessage);setIsNameValid(e.target.validity.valid);}function handleChangeDescription(e){setDescription(e.target.value);setDescriptionValidationMessage(e.target.validationMessage);setIsDescriptionValid(e.target.validity.valid);}function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,about:description});}var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);setIsDescriptionValid(true);setIsNameValid(false);},[currentUser,props.isOpened]);return/*#__PURE__*/_jsxs(PopupWithForm,{onSubmit:handleSubmit,isValid:isNameValid&&isDescriptionValid,buttonText:props.isOpened&&props.isApiProcessing?'Сохраняю...':'Сохранить',isOpened:props.isOpened,onClose:props.onClose,name:\"popup_edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",children:[/*#__PURE__*/_jsx(\"input\",{value:name||'',onChange:handleChangeName,id:\"username\",type:\"text\",className:\"popup__inputs popup__inputs_type_name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:2,maxLength:40,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:nameValidationMessage.length<1?\"username-error popup__input-error\":\"username-error popup__input-error popup__input-error_visible\",children:nameValidationMessage}),/*#__PURE__*/_jsx(\"input\",{value:description||'',onChange:handleChangeDescription,id:\"hobby\",type:\"text\",className:\"popup__inputs popup__inputs_type_hobby\",name:\"about\",placeholder:\"\\u0412\\u0438\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",minLength:2,maxLength:200,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:descriptionValidationMessage.length<1?\"username-error popup__input-error\":\"username-error popup__input-error popup__input-error_visible\",children:descriptionValidationMessage})]});}export default EditProfilePopup;","map":{"version":3,"names":["useEffect","useState","useContext","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","props","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","_useState5","_useState6","nameValidationMessage","setNameValidationMessage","_useState7","_useState8","descriptionValidationMessage","setDescriptionValidationMessage","_useState9","_useState10","isNameValid","setIsNameValid","_useState11","_useState12","isDescriptionValid","setIsDescriptionValid","handleChangeName","e","target","value","validationMessage","validity","valid","handleChangeDescription","handleSubmit","preventDefault","onUpdateUser","about","currentUser","isOpened","onSubmit","isValid","buttonText","isApiProcessing","onClose","title","children","onChange","id","type","className","placeholder","minLength","maxLength","required","length"],"sources":["C:/Users/og88t/dev/react-mesto-api-full-gha/frontend/src/component/EditProfilePopup.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [descriptionValidationMessage, setDescriptionValidationMessage] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(false);\r\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n    setNameValidationMessage(e.target.validationMessage);\r\n    setIsNameValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n    setDescriptionValidationMessage(e.target.validationMessage);\r\n    setIsDescriptionValid(e.target.validity.valid)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n    setIsDescriptionValid(true);\r\n    setIsNameValid(false);\r\n  }, [currentUser, props.isOpened]);\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit}\r\n      isValid={isNameValid && isDescriptionValid}\r\n      buttonText={props.isOpened && props.isApiProcessing ? 'Сохраняю...' : 'Сохранить'}\r\n      isOpened={props.isOpened} onClose={props.onClose}\r\n      name=\"popup_edit-profile\"\r\n      title=\"Редактировать профиль\">\r\n      <input\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n        id=\"username\"\r\n        type=\"text\"\r\n        className=\"popup__inputs popup__inputs_type_name\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required=\"\"\r\n      />\r\n      <span className={nameValidationMessage.length < 1 ?\r\n        \"username-error popup__input-error\" : \"username-error popup__input-error popup__input-error_visible\"} >{nameValidationMessage}</span>\r\n      <input\r\n        value={description || ''}\r\n        onChange={handleChangeDescription}\r\n        id=\"hobby\"\r\n        type=\"text\"\r\n        className=\"popup__inputs popup__inputs_type_hobby\"\r\n        name=\"about\"\r\n        placeholder=\"Вид деятельности\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        required=\"\"\r\n      />\r\n      <span className={descriptionValidationMessage.length < 1 ?\r\n        \"username-error popup__input-error\" : \"username-error popup__input-error popup__input-error_visible\"} >{descriptionValidationMessage}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}